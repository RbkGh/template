apply plugin: 'ssh'

buildscript {
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath 'org.hidetake:gradle-ssh-plugin:0.2.5'
    }
}

ssh {
    identity = file("${System.properties['user.home']}/.ssh/id_rsa")
}

remotes {
    localhost {
        host = 'localhost'
        user = System.properties['user.name']
    }
}

task showPlatformVersion(type: SshTask) {
    session(remotes.localhost) {
        execute('uname -a')
        execute('cat /etc/*-release || true')
    }
}

task exampleTask(dependsOn: showPlatformVersion) {
}


task wrapper(type: Wrapper) {
    gradleVersion = '1.10'
}
